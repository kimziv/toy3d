#summary 资源管理重构


=基本思想=

 * 资源包括： mesh, shaderprogram, texture
 * 资源存在资源池中
 * 每种资源对应一种 manager

=几个问题=

 * list 用 STL 的 list 还是自己写。用 STL, BOOST 吗？(见参考1)


=MeshManager, ShaderProgramManager, TextureManager=

 * Mesh 可以由多个 Entity 共享
 * ShaderProgram 可以由多个 Entity 共享
 * Texture 可以由多个 Entity 共享
 * 所有的 Mesh 都经过 MeshManager 创建与释放，并实际保存在里边
 * 所有的 ShaderProgram 都经过 ShaderProgramManager 创建与释放，并实际保存在里边
 * 所有的 Texture 都经过 TextureManager 创建与释放，并实际保存在里边






=ShaderProgramManager=

{{{

class TextureManager {

private:

   Texture* mTextures[MAX_TEXTURE_COUNT];
   Uint mTextureCount;

public:

    Texture* createTexture (const char* filename);

    void destroyAllTextures ();

};



}}}


=TextureManager=

{{{

class TextureManager {

private:

   Texture* mTextures[MAX_TEXTURE_COUNT];
   Uint mTextureCount;

public:

    Texture* createTexture (const char* filename);

    void destroyAllTextures ();

};

}}}
 

=Toy3DList=

可动态增加的 list,通用数据类型

 



= Reference =

  1. [http://www.opengpu.org/forum.php?mod=viewthread&tid=2737 你的引擎用不用stl boost？ 为什么？]


= Details =

Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages